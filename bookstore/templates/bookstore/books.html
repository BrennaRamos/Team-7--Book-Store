{% extends 'base.html'%}
{% block content %}
{% load staticfiles %}

<script type="text/javascript">

    function resizeImage(id) {
        var img = document.getElementById("img_"+id);
        if(img.style.height ==="100%") {
            img.style.height = "170px";
            img.style.width = "100px";
        } else {
            img.style.height = "100%";
            img.style.width = "100%";
        }
    }
</script>

<ul class="list-group"></ul>

{% for book in posts %}

<li class="list-group-item">
    <img id="img_{{ forloop.counter }}" src="{{ book.photo.url }}" width=100 height=170 onclick="resizeImage({{ forloop.counter }})">
    <span class="font-weight-bold">
                    {{ book.title }}
                </span>

    by {{ book.author }}, {{ book.genre }}
    <small class="text-right font-weight-light">
        Published on {{ book.datePublished }} by {{ book.publisher }}
    </small>
    <div>{{ book.bookDescription }}</div>
    <br>
    <br>
    <div class="font-weight-bold">{{ book.author }}</div>
    <div>{{ book.author.biography }}</div>
    <br>
    <!--CHECK REVIEWS LINK. Once clicked it redirects user to the reviews page for that specific book-->
    <a href="{% url 'reviews' book.id book.title %}">Check Reviews</a>
    <br>
    <!--ADD TO CART LINK. Once clicked it adds item to cart but "redirects" user to whatever page they were currently on/clicked from-->
    <a href="{% url 'addtocart' book.id %}?from={{request.path|urlencode}}">Add to Cart</a>

</li>

{% endfor %}

</ul>

{% endblock content %}